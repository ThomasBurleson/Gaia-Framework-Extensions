(function(){if(!String.prototype.supplant){var b=Object.prototype.hasOwnProperty;String.prototype.supplant=function(a){return this.replace(/\{([^{}]*)\}/g,function(c,e){var f=e.split("."),h=a;try{for(var i in f)if(b.call(f,i))h=h[f[i]]}catch(g){h=c}return typeof h==="string"||typeof h==="number"?h:c})}}})();
var Namespace=function(){var b={},a=[],c=function(d){if(typeof d=="object"&&d.sort)return d;return Array(d)},e=function(){var d;try{d=new XMLHttpRequest}catch(j){try{d=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(k){try{d=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(m){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(p){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(o){throw Error("This browser does not support XMLHttpRequest.");}}}}}return d},f=function(d){return d>=200&&d<300||d==304||d==1223||
!d&&(window.location.protocol=="file:"||window.location.protocol=="chrome:")},h=function(d){var j=document.createElement("script");j.type="text/javascript";j.text=d;if(typeof window.execScript==="object")window.execScript(d);else try{document.body.appendChild(j)}catch(k){window.eval(d)}},i=function(d,j){if(b[d]){j.event=d;for(var k=0;k<b[d].length;k++)b[d][k](j)}},g=function(d,j){var k=j||false,m=window;if(d!=="")for(var p=d.split(Namespace.separator),o=0;o<p.length;o++){m[p[o]]||(m[p[o]]={});m=m[p[o]]}if(k)for(var n in k)if(k.hasOwnProperty(n))m[n]=
k[n];i("create",{identifier:d});return m};g.exist=function(d){if(d==="")return true;d=d.split(Namespace.separator);for(var j=window,k=0;k<d.length;k++){if(!j[d[k]])return false;j=j[d[k]]}return true};g.mapIdentifierToUri=function(d){return Namespace.baseUri+d.replace(RegExp("\\"+Namespace.separator,"g"),"/")+".js"};var l=function(d,j,k){var m=typeof j==="function",p=g.mapIdentifierToUri(d),o={identifier:d,uri:p,async:m,callback:j},n=e();n.open("GET",p,m);if(m)n.onreadystatechange=function(){if(n.readyState==
4)if(f(n.status||0)){h(n.responseText);i("include",o);j()}else{o.status=n.status;i("includeError",o);typeof k==="function"&&k()}};n.send(null);if(!m){if(f(n.status||0)){h(n.responseText);i("include",o);return true}o.status=n.status;i("includeError",o);return false}};g.include=function(d,j,k){var m=j||false;j=k||false;if(a[d]){typeof m==="function"&&m();return true}if(m)l(d,function(){a[d]=true;m()},j);else{if(l(d))return a[d]=true;return false}};g.use=function(d){for(var j=c(d),k=arguments[1]||false,
m=arguments.length>2?arguments[2]:Namespace.autoInclude,p={identifier:d},o,n,q,r=0;r<j.length;r++){d=j[r];o=d.split(Namespace.separator);n=o.pop();q=g(o.join(Namespace.separator));if(n=="*")for(var s in q){if(q.hasOwnProperty(s))window[s]=q[s]}else if(q[n])window[n]=q[n];else if(m)if(k){g.include(d,function(){window[n]=q[n];if(r+1<j.length)g.unpack(j.slice(r+1),k,m);else{i("use",p);typeof k==="function"&&k()}});return}else{g.include(d);window[n]=q[n]}}i("use",p);typeof k==="function"&&k()};g.from=
function(d){return{include:function(j){g.include(d,j||false)},use:function(j,k){var m=k||false;if(j.charAt(0)==".")j=d+j;if(m)g.include(d,function(){g.use(j,m,false)});else{g.include(d);g.use(j,m,false)}}}};g.provide=function(d){for(var j=c(d),k=0;k<j.length;k++)if(!(d in a)){i("provide",{identifier:d});a[d]=true}};g.addEventListener=function(d,j){b[d]||(b[d]=[]);b[d].push(j)};g.removeEventListener=function(d,j){if(b[d])for(var k=0;k<b[d].length;k++)if(b[d][k]==j){delete b[d][k];break}};g.registerNativeExtensions=
function(){String.prototype.namespace=function(d){d=d||{};return g(this.valueOf(),d)};String.prototype.include=function(d){d=d||false;return g.include(this.valueOf(),d)};String.prototype.use=function(d){d=d||false;return g.use(this.valueOf(),d)};String.prototype.from=function(){return g.from(this.valueOf())};String.prototype.provide=function(){return g.provide(this.valueOf())};Array.prototype.use=function(d){return g.use(this,d||false)};Array.prototype.provide=function(){return g.provide(this)}};
return g}();Namespace.separator=".";Namespace.baseUri="./";Namespace.autoInclude=true;
(function(b){b._spritely={animate:function(a){var c=b(a.el),e=c.attr("id");a=b.extend(a,b._spritely.instances[e]||{});var f=b._spritely.instances[e],h=b._spritely.getBgY(c);if(a.play_frames&&!f.remaining_frames)f.remaining_frames=a.play_frames+1;if(a.type=="sprite"&&a.fps){var i;e=function(j){var k=a.width;if(!i){i=[];for(var m=total=0;m<a.no_of_frames;m++){i[i.length]=0-total;total+=k}}f.current_frame+=f.current_frame>=i.length-1?0:1;b._spritely.setBgXY(j,i[f.current_frame],h);if(a.bounce&&a.bounce[0]>
0&&a.bounce[1]>0){k=a.bounce[0];m=a.bounce[1];var p=a.bounce[2];j.animate({top:"+="+k+"px",left:"-="+m+"px"},p).animate({top:"-="+k+"px",left:"+="+m+"px"},p)}};if(f.remaining_frames&&f.remaining_frames>0){f.remaining_frames--;if(f.remaining_frames==0){f.remaining_frames=-1;delete f.remaining_frames;return}else e(c)}else f.remaining_frames!=-1&&e(c)}else if(a.type=="pan")if(!f._stopped){e=a.speed||1;if(a.hasOwnProperty("constrained")){var g=c.position(),l=b(window).width(),d=0+a.constrained.left;l=
l-a.constrained.right;if(a.dir=="left"&&g.left-e<=d){f.dir="right";a.dir="right"}else if(a.dir=="right"&&g.left+e>=l){f.dir="left";a.dir="left"}if(a.dir=="right"&&g.left<d)f.l=d;else if(a.dir=="left"&&g.left>l)f.l=l;f.l=f.l||g.left;f.l=a.dir=="left"?f.l-e||0:f.l+e||0;c.animate({top:"+=0px",left:f.l+"px"},0)}else{f.l=a.dir=="left"?f.l-e||0:f.l+e||0;b._spritely.setBgXY(c,f.l,h)}}f.options=a;window.setTimeout(function(){b._spritely.animate(a)},parseInt(1E3/a.fps))},randomIntBetween:function(a,c){return parseInt(rand_no=
Math.floor((c-(a-1))*Math.random())+a)},setBgXY:function(a,c,e){b(a).css("background-position",c+"px "+e)},getBgY:function(a,c){var e=b.browser.msie?b(a).css("background-position-y")||"0":(b(a).css("background-position")||" ").split(" ")[1];return c?e.replace("px",""):e},getBgX:function(a,c){var e=b.browser.msie?b(a).css("background-position-x")||"0":(b(a).css("background-position")||" ").split(" ")[0];return c?e.replace("px",""):e},get_rel_pos:function(a,c){var e=a;if(a<0)for(;e<0;)e+=c;else for(;e>
c;)e-=c;return e}};b.fn.extend({spritely:function(a){a=b.extend({type:"sprite",do_once:false,width:null,height:null,fps:12,no_of_frames:2,stop_after:null},a||{});var c=b(this).attr("id");if(!b._spritely.instances)b._spritely.instances={};b._spritely.instances[c]||(b._spritely.instances[c]={current_frame:-1});b._spritely.instances[c].type=a.type;b._spritely.instances[c].depth=a.depth;a.el=this;a.width=a.width||b(this).width()||100;a.height=a.height||b(this).height()||100;a.do_once?b._spritely.animate(a):
window.setTimeout(function(){b._spritely.animate(a)},parseInt(1E3/a.fps));return this},sprite:function(a){a=b.extend({type:"sprite",bounce:[0,0,1E3]},a||{});return b(this).spritely(a)},pan:function(a,c){a=b.extend({type:"pan",dir:"left",continuous:true,speed:1},a||{});if(c){var e=this;window.setTimeout(function(){b(e).spritely(a)},c);return this}else return b(this).spritely(a)},flyToTap:function(a){a=b.extend({el_to_move:null,type:"moveToTap",ms:1E3,do_once:true,yOnly:false,xOnly:false},a||{});a.el_to_move&&
b(a.el_to_move).active();if(b._spritely.activeSprite)if(window.Touch)b(this)[0].ontouchstart=function(c){var e=b._spritely.activeSprite,f=e.position();c=c.touches[0];var h=e.attr("id");h=b._spritely.instances[h];var i=b(window).width(),g=h.options.hasOwnProperty("constrained")?h.options.constrained:{left:0,right:0},l=Math.floor(a.yOnly?f.left:c.pageX-e.width()/2);f=Math.floor(a.xOnly?f.top:c.pageY-e.height()/2);if(l<g.left)l=g.left;if(l>i-g.right)l=i-g.right;h.options.dir=h.l<l?"right":"left";h.l=
l;e.animate({top:f+"px",left:l+"px"},1E3)};else b(this).click(function(c){var e=b(window).width(),f=b._spritely.activeSprite,h=f.attr("id");h=b._spritely.instances[h];var i=h.options.hasOwnProperty("constrained")?h.options.constrained:{left:0,right:0};b(f).stop(true);var g=f.position(),l=f.width(),d=f.height();l=Math.floor(a.yOnly?g.left:c.pageX-l/2);c=Math.floor(a.xOnly?g.top:c.pageY-d/2);if(l<i.left)l=i.left;if(l>e-i.right)l=e-i.right;h.options.dir=h.l<l?"right":"left";h.l=l;f.animate({top:c+"px",
left:l+"px"},500)});return this},isDraggable:function(a){if(!b(this).draggable){alert("To use the isDraggable method you need to load jquery-ui.js");return this}a=b.extend({type:"isDraggable",start:null,stop:null,drag:null},a||{});var c=b(this).attr("id");b._spritely.instances[c].isDraggableOptions=a;b(this).draggable({start:function(){var e=b(this).attr("id");b._spritely.instances[e].stop_random=true;b(this).stop(true);b._spritely.instances[e].isDraggableOptions.start&&b._spritely.instances[e].isDraggableOptions.start(this)},
drag:a.drag,stop:function(){var e=b(this).attr("id");b._spritely.instances[e].stop_random=false;b._spritely.instances[e].isDraggableOptions.stop&&b._spritely.instances[e].isDraggableOptions.stop(this)}});return this},active:function(){b._spritely.activeSprite=this;return this},activeOnClick:function(){var a=b(this);if(window.Touch)a[0].ontouchstart=function(){b._spritely.activeSprite=a};else a.click(function(){b._spritely.activeSprite=a});return this},spRandom:function(a){a=b.extend({top:50,left:50,
right:290,bottom:320,speed:4E3,pause:0},a||{});var c=b(this).attr("id");if(!b._spritely.instances[c].stop_random){var e=b._spritely.randomIntBetween,f=e(a.top,a.bottom);e=e(a.left,a.right);b("#"+c).animate({top:f+"px",left:e+"px"},a.speed)}window.setTimeout(function(){b("#"+c).spRandom(a)},a.speed+a.pause);return this},makeAbsolute:function(){return this.each(function(){var a=b(this),c=a.position();a.css({position:"absolute",marginLeft:0,marginTop:0,top:c.top,left:c.left}).remove().appendTo("body")})},
spSet:function(a,c){var e=b(this).attr("id");b._spritely.instances[e][a]=c;return this},spGet:function(a){var c=b(this).attr("id");return b._spritely.instances[c][a]},spStop:function(a){b(this).each(function(){var c=b(this).attr("id");b._spritely.instances[c]._last_fps=b(this).spGet("fps");b._spritely.instances[c]._stopped=true;b._spritely.instances[c]._stopped_f1=a;b._spritely.instances[c].type=="sprite"&&b(this).spSet("fps",0);if(a){c=b._spritely.getBgY(b(this));b(this).css("background-position",
"0 "+c)}});return this},spStart:function(){b(this).each(function(){var a=b(this).attr("id"),c=b._spritely.instances[a]._last_fps||12;b._spritely.instances[a]._stopped=false;b._spritely.instances[a].type=="sprite"&&b(this).spSet("fps",c)});return this},spToggle:function(){var a=b(this).attr("id"),c=b._spritely.instances[a]._stopped_f1||false;b._spritely.instances[a]._stopped?b(this).spStart():b(this).spStop(c);return this},fps:function(a){b(this).each(function(){b(this).spSet("fps",a)});return this},
spSpeed:function(a){b(this).each(function(){b(this).spSet("speed",a)});return this},spRelSpeed:function(a){b(this).each(function(){var c=b(this).spGet("depth")/100;b(this).spSet("speed",a*c)});return this},spChangeDir:function(a){b(this).each(function(){b(this).spSet("dir",a)});return this},spState:function(a){b(this).each(function(){var c=(a-1)*b(this).height()+"px";c=b._spritely.getBgX(b(this))+" -"+c;b(this).css("background-position",c)});return this},lockTo:function(a,c){b(this).each(function(){var e=
b(this).attr("id");b._spritely.instances[e].locked_el=b(this);b._spritely.instances[e].lock_to=b(a);b._spritely.instances[e].lock_to_options=c;window.setInterval(function(){if(b._spritely.instances[e].lock_to){var f=b._spritely.instances[e].locked_el,h=b._spritely.instances[e].lock_to,i=b._spritely.instances[e].lock_to_options,g=i.bg_img_width;h.height();var l=b._spritely.getBgY(h);h=b._spritely.getBgX(h);h=parseInt(h)+parseInt(i.left);i=parseInt(l)+parseInt(i.top);h=b._spritely.get_rel_pos(h,g);
b(f).css({top:i+"px",left:h+"px"})}},c.interval||20)});return this}})})(jQuery);try{document.execCommand("BackgroundImageCache",false,true)}catch(err){}
(function(b){b.fn.slideBox=function(a){var c="div#panel",e="#open",f="#close",h="#toggle a",i=b(this),g={bottom:"0",position:"fixed",width:"100%","z-index":"999","text-align":"center","margin-left":"auto","margin-right":"auto",autoFocus:""};a&&b.extend(g,a);if(g.slideFrom=="top"){g.top=g.bottom;delete g.bottom}var l=i.html(),d=b("<div id='slideBox'>");d.css(g);d.html(l);i.replaceWith(d);c=b(c);e=b(e);f=b(f);h=b(h);e.click(function(){if(g.preload){c.css("height",0);c.css("visibility","visible");c.css("display")==
"none"&&c.css("display","");c.animate({height:g.height},{duration:1E3})}else{c.slideDown("slow");var j=g.autoFocus?g.autoFocus:"";j!=""&&setTimeout(function(){b(j).focus()},1200)}return false});f.click(function(){g.preload?c.animate({height:"0px"},{duration:1E3,complete:function(){c.css("visibility","hidden")}}):c.slideUp("slow");return false});h.click(function(){h.toggle();return false});g.preload|=c.css("display")!="none";if(g.preload){g.height=!a.height?c.css("height"):a.height;c.css("height",
0);c.css("visibility","hidden");c.css("display","block")}}})(jQuery);
(function(b,a){b.animations={start:function(){this.featureTour.init();this.sprites.init();a(b).resize(this.resize);b.animations.resize();return this},resize:function(){var c=a(b).width(),e=(a(b).height()-375)/2,f=(c-700)/2;a("#title").css("background-position",c-387-0+"px 50px").css("visibility","visible");a("#tour").length&&a("#tour").css("position","absolute").css({left:Math.floor(f)+"px",top:Math.floor(e)+"px","z-index":300})},sprites:{init:function(){a("#land").pan({fps:12,speed:0.2,dir:"left",
depth:10});a("#cloudMiddle").pan({fps:12,speed:0.15,dir:"left",depth:30});a("#cloudBottom").pan({fps:12,speed:0.3,dir:"left",depth:70});var c=a("#spout");c.css("visibility","visible").animate({left:"75px",opacity:"1.0"},{duration:1E3,complete:function(){c.pan({fps:12,speed:0.35,dir:"right",depth:50,constrained:{left:75,right:250}}).active()}});a("#stage").flyToTap({xOnly:true,el_to_move:c})}},featureTour:{init:function(){b.swfobject.embedSWF("assets/featureTour.swf","flashcontent","700","400","10.0.0",
"http://cdn.insertables.com/expressInstall.swf",{siteXML:"assets/xml/site.xml"},{allowscriptaccess:"always",allownetworking:"all",quality:"high",scale:"noscale",wmode:"transparent",bgcolor:"#424242"},{id:"flashcontent",name:"flashcontent"})}}};b.validations={start:function(){a("#txtUsername").blur(this.validateField);a("#txtEmail").blur(this.validateField);this.wrapField("#txtEmail");this.wrapField("#txtUsername");a("#registration_form").append("<div id='tooltip' class='tooltip' style='display: none; visibility: visible; position: absolute; left:0px, top:0px;'></div>");
a("validation_status").tooltip({tip:"#tooltip",position:"center right",opacity:0.2,delay:0})},getFieldValues:function(){return{formID:a("input#formID").val(),username:a("input#txtUsername").val().toUpperCase(),email:a("input#txtEmail").val()}},wrapField:function(c){var e="<div id='{id}_wrapper'></div>".supplant({id:a(c).attr("id")}),f="#{id}_wrapper".supplant({id:a(c).attr("id")});a(c).wrap(e);a(f).append("<image id='validation_status' class='validation_status' src='http://cdn.insertables.com/images/slideBox/input_invalid.gif' style='display:none;' />").find("#validation_status").each(function(h,
i){i&&i.id!==""&&a(i).click(function(g){g=a(g.currentTarget);g.parent().find("input").each(function(l,d){a(d).removeClass().addClass("field")});g.fadeOut("slow")})})},validate:function(){var c=this.validateField(a("#txtUsername"),false),e=this.validateField(a("#txtEmail"),false);c=c&&e;if(c==true)a("#prompt").hide();else{e="<p style='text-align:center; font-size:0.9em;'><span style='color:#FF0000;' >Error: </span>";e+="<span style='color:#F8DCDB;'> All fields are required for proper Registration!</span><p>";
a("#prompt").html(e).show()}return c},validateField:function(c,e){if(typeof e==="undefined")e=true;var f=true,h="",i=c.hasOwnProperty("currentTarget")?a(c.currentTarget):c,g=e&&i.val()=="";switch(i.attr("id")){case "formID":case "txtUsername":h=(f=/\S+/.test(i.val()))?"Accepted":"Firstname and lastname are both required.";break;case "txtEmail":h=(f=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/.test(i.val()))?"Accepted":"A valid e-mail address is required.";break;default:return false}i.parent().find("#validation_status").each(function(l,
d){if(d&&d.id!==""){var j=f?"input_invalid.gif":"input_valid.gif",k=f?"input_valid.gif":"input_invalid.gif";j=a(d).attr("src").replace(j,k);e&&g?a(d).hide():a(d).attr({src:j,display:""}).show()}});if(g==true){a("#registration_form #tooltip").html(h);f==true&&a("#prompt").replaceWith(a("<label id='prompt'><br/></label>"))}i.removeClass().addClass(f||e&&g?"field":"field_invalid");return f}}})(window,window.$);
(function(b){if(typeof b.insertables==="undefined")b.insertables={};typeof b.insertables.post==="undefined"&&function(){var a=b.$;if(!a)return false;var c={jQuery:b.$,_domain:b.document.domain};c.fn=c.prototype={jQuery:b.$,post:function(e,f,h,i){h=this.jQuery;h.isFunction(f);if(!f&&typeof e==="object"&&e.hasOwnProperty("success"))f=e.success;this.buildSubmitData(e,i);f();return h},buildSubmitData:function(e,f){e=typeof e==="string"?this.parseFormInputs(e):a.isFunction(e)?e():e;var h=this.convert2JSON(e);
h.locale=f||"en_US";for(var i=["<fields accountID='{accountID}' formID='{formID}' locale='{locale}'>","<field name='{id}'><![CDATA[{value}]]\></field>","</fields>"],g=String(i[0]).supplant(h),l=0;l<h.fields.length;l++)g+=String(i[1]).supplant(h.fields[l]);g+=String(i[2]);return g},convert2JSON:function(e){var f={formID:"",accountID:"",fields:[]},h;for(h in e)if(e.hasOwnProperty(h))switch(h){case "formID":f.formID=e[h];break;case "accountID":f.accountID=e[h];break;default:f.fields.push({id:h,value:e[h]})}return f},
parseFormInputs:function(e){var f={};a(e).find("input").each(function(h,i){if(i&&i.id!=="")f[i.name]=$(i).val()});return f}};return b.insertables=b.$insertables=c}()})(window);
